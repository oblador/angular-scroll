var duScrollDefaultEasing=function(a){return.5>a?Math.pow(2*a,2)/2:1-Math.pow(2*(1-a),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.requestAnimation","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.scrollHelpers"]).value("duScrollDuration",1e3).value("duScrollEasing",duScrollDefaultEasing),angular.module("duScroll.scrollHelpers",[]).run(["$window","requestAnimation","duScrollEasing",function(a,b,c){var d=angular.element.prototype;this.$get=function(){return d};var e=function(a){return"undefined"!=typeof HTMLDocument&&a instanceof HTMLDocument||a.nodeType&&a.nodeType===a.DOCUMENT_NODE},f=function(a){return"undefined"!=typeof HTMLElement&&a instanceof HTMLElement||a.nodeType&&a.nodeType===a.ELEMENT_NODE},g=function(a){return f(a)||e(a)?a:a[0]};d.scrollTo=function(b,c,d){if(angular.isElement(b))return this.scrollToElement(b,0,c,d);if(d)return this.scrollToAnimated.apply(this,arguments);var f=g(this);return e(f)?a.scrollTo(b,c):(f.scrollLeft=b,f.scrollTop=c,void 0)},d.scrollToAnimated=function(a,d,e,f){e&&!f&&(f=c);var g=this.scrollLeft(),h=this.scrollTop(),i=Math.round(a-g),j=Math.round(d-h);if(i||j){var k=0,l=Math.ceil(e/60),m=function(){k++;var a=k===l?1:f(k/l);this.scrollTo(g+Math.ceil(i*a),h+Math.ceil(j*a)),l>k&&b(m)}.bind(this);m()}},d.scrollToElement=function(a,b,c,d){var e=g(this),h=this.scrollTop()+g(a).getBoundingClientRect().top-b;f(e)&&(h-=e.getBoundingClientRect().top),this.scrollTo(0,h,c,d)},d.scrollLeft=function(b,c,d){if(angular.isNumber(b))return this.scrollTo(b,this.scrollTop(),c,d);var f=g(this);return e(f)?a.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:f.scrollLeft},d.scrollTop=function(b,c,d){if(angular.isNumber(b))return this.scrollTo(this.scrollTop(),b,c,d);var f=g(this);return e(f)?a.scrollY||document.documentElement.scrollTop||document.body.scrollTop:f.scrollTop}}]),angular.module("duScroll.requestAnimation",[]).factory("requestAnimation",["$window","$timeout",function(a,b){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){b(a,1e3/60)}}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","scrollContainerAPI",function(a,b){var c=function(b){return function(){var c=b.container,d=c[0],e=0;d instanceof HTMLElement&&(e=d.getBoundingClientRect().top);var f,g,h,i,j,k;for(i=b.spies,g=b.currentlyActive,h=void 0,f=0;f<i.length;f++){if(j=i[f],k=j.getTargetPosition(),!k)return;k.top+j.offset-e<20&&-1*k.top+e<k.height&&(!h||h.top<k.top)&&(h={top:k.top,spy:j})}h&&(h=h.spy),g!==h&&(g&&(g.$element.removeClass("active"),a.$broadcast("duScrollspy:becameInactive",g.$element)),h&&(h.$element.addClass("active"),a.$broadcast("duScrollspy:becameActive",h.$element)),b.currentlyActive=h)}},d={},e=function(a){var b=a.$id,e={spies:[]};return e.handler=c(e),d[b]=e,a.$on("$destroy",function(){f(a)}),b},f=function(a){var b=a.$id,c=d[b],e=c.container;e&&e.off("scroll",c.handler),delete d[b]},g=e(a),h=function(a){return d[a.$id]?d[a.$id]:a.$parent?h(a.$parent):d[g]},i=function(a){return h(a.$element.scope())},j=function(a){var c=i(a);i(a).spies.push(a),c.container||(c.container=b.getContainer(a.$element.scope()),c.container.on("scroll",c.handler).triggerHandler("scroll"))},k=function(a){var b=i(a);a===b.currentlyActive&&(b.currentlyActive=null);var c=b.spies.indexOf(a);-1!==c&&b.spies.splice(c,1)};return{addSpy:j,removeSpy:k,createContext:e,destroyContext:f}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(a){var b={},c=function(a,c){var d=a.$id;return b[d]=c,d},d=function(a){return b[a.$id]?a.$id:a.$parent?d(a.$parent):void 0},e=function(c){var e=d(c);return e?b[e]:a},f=function(a){var c=d(a);c&&delete b[c]};return{getContainerId:d,getContainer:e,setContainer:c,removeContainer:f}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","scrollContainerAPI",function(a,b){return{link:function(c,d,e){var f=angular.element(d[0]);f.on("click",function(d){if(e.href&&-1!==e.href.indexOf("#")){var f=document.getElementById(e.href.replace(/.*(?=#[^\s]+$)/,"").substring(1));if(f&&f.getBoundingClientRect){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault();var g=e.offset?parseInt(e.offset,10):0,h=e.duration?parseInt(e.duration,10):a,i=b.getContainer(c);i.scrollToElement(angular.element(f),isNaN(g)?0:g,isNaN(h)?0:h)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(a){return{restrict:"A",scope:!0,compile:function(){return{pre:function(b){a.createContext(b)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(a){return{restrict:"A",scope:!0,compile:function(){return{pre:function(b,c,d){d.$observe("duScrollContainer",function(d){angular.isString(d)&&(d=document.getElementById(d)),d=angular.isElement(d)?angular.element(d):c,a.setContainer(b,d),b.$on("$destroy",function(){a.removeContainer(b)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","$timeout",function(a,b){var c=function(a,b,c){angular.isElement(a)?this.target=a:angular.isString(a)&&(this.targetId=a),this.$element=b,this.offset=c};return c.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)),this.target},c.prototype.getTargetPosition=function(){var a=this.getTargetElement();return a?a.getBoundingClientRect():void 0},c.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(d,e,f){var g,h=f.ngHref||f.href;h&&-1!==h.indexOf("#")?g=h.replace(/.*(?=#[^\s]+$)/,"").substring(1):f.duScrollspy&&(g=f.duScrollspy),g&&b(function(){var b=new c(g,e,-(f.offset?parseInt(f.offset,10):0));a.addSpy(b),d.$on("$destroy",function(){a.removeSpy(b)}),d.$on("$locationChangeSuccess",b.flushTargetCache.bind(b))},0)}}}]);
//# sourceMappingURL=angular-scroll.min.js.map