angular.module("duScroll",["duScroll.scroller","duScroll.scrollPosition","duScroll.scrollspy","duScroll.requestAnimation","duScroll.smoothScroll"]).value("duScrollDuration",1e3),angular.module("duScroll.requestAnimation",[]).factory("requestAnimation",["$window","$timeout",function(a,b){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){b(a,1e3/60)}}]),angular.module("duScroll.scrollPosition",["duScroll.requestAnimation"]).factory("scrollPosition",["$document","$window","$rootScope","requestAnimation",function(a,b,c,d){var e=[],f=0,g=0,h=function(){c.$emit("$duScrollChanged",g),g=f;for(var a=0;a<e.length;a++)e[a](g)},i=function(){return b.scrollY||document.documentElement.scrollTop||document.body.scrollTop},j=function(){return b.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft};angular.element(a).on("scroll",function(){f=i(),f!==g&&d(h)});var k=!1;return{observe:function(a){!k&&console&&console.warn&&(console.warn("scrollPosition.observe is deprecated, use $rootScope.$on('$duScrollChanged') instead"),k=!0),e.push(a)},x:j,y:i}}]),angular.module("duScroll.scroller",["duScroll.requestAnimation"]).factory("scroller",["$window","requestAnimation","scrollPosition",function(a,b,c){function d(a){return Math.pow(a,.7)}function e(e,f,g){if(!g)return a.scrollTo(e,f),void 0;var h={y:c.y(),x:c.x()},i={y:Math.round(f-h.y),x:Math.round(e-h.x)};if(i.x||i.y){var j=0,k=Math.ceil(g/60),l=function(){j++;var c=j===k?1:d(j/k);a.scrollTo(h.x+Math.ceil(i.x*c),h.y+Math.ceil(i.y*c)),k>j&&b(l)};l()}}function f(a,b,d){e(c.x()+(a||0),c.y()+(b||0),d)}function g(a,b,c){if(angular.isElement(a)&&(a=a[0]||a,a.getBoundingClientRect)){var d=a.getBoundingClientRect();f(0,d.top+(!b||isNaN(b)?0:-b),c)}}return{scrollTo:e,scrollToElement:g,scrollDelta:f}}]),angular.module("duScroll.smoothScroll",["duScroll.scroller"]).directive("duSmoothScroll",["scroller","duScrollDuration",function(a,b){return{link:function(c,d,e){var f=angular.element(d[0]);f.on("click",function(c){if(e.href&&-1!==e.href.indexOf("#")){var d=document.getElementById(e.href.replace(/.*(?=#[^\s]+$)/,"").substring(1));if(d&&d.getBoundingClientRect){c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault();var f=-(e.offset?parseInt(e.offset,10):0),g=e.duration?parseInt(e.duration,10):b,h=d.getBoundingClientRect();a.scrollDelta(0,h.top+(isNaN(f)?0:f),g)}}})}}}]),angular.module("duScroll.scrollspy",["duScroll.scrollPosition"]).directive("duScrollspy",["$rootScope","scrollPosition",function(a){function b(){for(var a,b,c,d=0;d<f.length;d++)b=f[d],c=b.getTargetPosition(),c&&c.top+b.offset<20&&-1*c.top<c.height&&(!a||a.top<c.top)&&(a={top:c.top,spy:b});a&&(a=a.spy),e!==a&&(e&&e.$element.removeClass("active"),a&&a.$element.addClass("active"),e=a)}function c(c){g||(a.$on("$duScrollChanged",b),g=!0),f.push(c)}function d(a){a===e&&(e=null);var b=f.indexOf(a);-1!==b&&f.splice(b,1)}var e,f=[],g=!1,h=function(a,b,c){angular.isElement(a)?this.target=a:angular.isString(a)&&(this.targetId=a),this.$element=b,this.offset=c};return h.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)),this.target},h.prototype.getTargetPosition=function(){var a=this.getTargetElement();return a?a.getBoundingClientRect():void 0},h.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(a,b,e){if(e.href&&-1!==e.href.indexOf("#")){var f=e.href.replace(/.*(?=#[^\s]+$)/,"").substring(1);if(f){var g=new h(f,b,-(e.offset?parseInt(e.offset,10):0));c(g),a.$on("$destroy",function(){d(g)}),a.$on("$locationChangeSuccess",g.flushTargetCache.bind(g))}}}}}]);
//# sourceMappingURL=angular-scroll.min.js.map